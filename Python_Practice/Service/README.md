# Сервис синхронизации файлов с облачным хранилищем

Этот проект реализует сервис для синхронизации файлов на локальном компьютере с облачным хранилищем. Сервис отслеживает изменения в файловой системе на компьютере и выполняет соответствующие операции (загрузка, обновление или удаление) на облачном хранилище (в нашем случае — Яндекс Диск).


## 1. Установка и настройка окружения

### 1.1. Установка Python и PostgreSQL

Убедитесь, что на вашей машине установлены:

- **Python**: версия 3.10 или выше.
- **PostgreSQL**: Проверьте с помощью команд:
  - `python3 --version`
  - `psql --version`


## 2. Установка зависимостей

Установите все зависимости проекта:

```bash
pip install -r requirements.txt


3. Настройка конфигурации

Перед запуском программы настройте файл config.ini:
[settings]
sync_folder = /path/to/your/local/folder
cloud_folder = /disk/MyFolder
token = your_oauth_token
sync_interval = 60 
log_file = /path/to/logfile.log


•	sync_folder: Путь к локальной папке для синхронизации.
•	cloud_folder: Папка на Яндекс Диске, с которой будет происходить синхронизация.
•	token: Ваш OAuth токен для доступа к Яндекс Диску.
•	sync_interval: Интервал синхронизации в секундах.
•	log_file: Путь к файлу лога, куда будут записываться события.


4. Запуск программы

Запустите программу:
python3 sync_service.py
Программа начнёт отслеживать изменения в локальной папке и синхронизировать их с Яндекс Диском в соответствии с указанным интервалом.


5. Остановка программы

Для остановки программы просто прервите выполнение через терминал, нажав Ctrl+C.

Структура проекта

•	sync_service.py: Основной файл, который запускает процесс синхронизации.
•	cloud_storage.py: Класс для работы с Яндекс Диском (загрузка, обновление, удаление файлов).
•	config.ini: Конфигурационный файл с параметрами работы программы.
•	log.txt: Лог файл, куда записываются результаты работы программы.
•	requirements.txt: Список зависимостей, необходимых для работы проекта.


Логирование

Все действия программы (запуск, синхронизация файлов, ошибки) записываются в лог-файл, указанный в config.ini. Логи содержат следующую информацию:
•	Время начала работы программы.
•	Статус синхронизации (успех или ошибка).
•	Описание ошибки, если таковая произошла.


Пример лога

2024-12-04 10:00:00 - Начало работы программы.
2024-12-04 10:00:05 - Новый файл file1.txt загружен в облако.
2024-12-04 10:01:00 - Файл file1.txt обновлён в облаке.
2024-12-04 10:02:00 - Файл file1.txt удалён из облака.


Ошибки и их обработка

1.	Неверный токен:
При неправильном или отсутствующем токене программа завершит работу с ошибкой: Invalid token! Please check your token in config.ini.
2.	Не найден путь к локальной папке:
Если указанный путь к локальной папке неверен, программа завершится с ошибкой: Local folder not found!.
3.	Проблемы с интернет-соединением:
Если программа не может подключиться к Яндекс Диску из-за проблем с сетью, ошибка будет записана в лог, но программа продолжит работу.


Разработка

Этот проект разработан с учётом принципов чистого кода и расширяемости. Все операции с Яндекс Диском вынесены в отдельный класс, чтобы в будущем можно было легко добавить поддержку других облачных хранилищ.
